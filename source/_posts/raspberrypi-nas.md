---
title: raspberrypi-nas
date: 2018-10-10 15:43:43
tags:
---
之前曾经使用lg g3手机挂载硬盘搭建nas，但是存在着严重的问题；

1, 在家里访问还可以，在外面访问太慢，因为家里宽带没有外网独立IP, 只能使用内网穿透，但是穿透的速度的瓶颈在于使用的外网的服务器的速度，我使用的腾讯云，1m的速度实在太慢
2, 系统是手机上安装linux deploy软件搭建的centos, 很不稳定，经常访问不了，只能重启才能恢复．安卓系统本身就比较耗内存，再开一个虚拟机软件内存更是吃紧，非常的卡

正因为以上原因，用手机建nas只能玩玩，真正用的话是很不实用的，也曾入手个专业的nas系统，但是价格昂贵，功耗也很大，家用的话又太浪费，一直没有合适的方案

后来玩起了树莓派，功能很强大，考虑用它做nas的方案
<div style="text-align: center">
	<img src="/image/pi.jpg" style="max-width: 400px">
</div>
树莓派本身就是一个linux的小电脑，说它小，体积小(比手机还小)，功耗小(5v输入，挂个硬盘还不到5w)，但麻雀虽小，五脏俱全，接口齐全(40针脚的GPIO接口，一个tf插槽，四个usb，一个网口，一个hdmi, 一个micro-usb, 一个3.5mm耳机孔)

功能很强大，一个连接软件和硬件的桥梁，但我们今天说的是使用它来做nas，原因：
1, 功能小，刚才也提到了，在挂一个硬盘的情况下功率还不到5w, 24小时全天运行再也不怕耗电了！
2, 自身树莓系统基于debian，装软件想怎么玩就怎么玩
3, 千兆以太网

但缺点也是有的，性能较低，usb2.0接口，鱼和熊掌不可兼得啊

系统的问题解决了，但是外网访问呢？靠内网穿透的我的那个腾讯云的那1m速度吗？慢的要死人，提高腾讯的带宽吗？贵的要死人，我又将方向转向了宽带公网ip．

因为现在的电信宽带运营商为了节省越来越紧张的ip资源，使用的是nat方案，使得分配到家庭光猫上的ip不再是公网ip，　而变成了内网ip，这样多个用户(比如一个小区)处在一个公网ip组的内网中．这样对多大数上网并无影响，但是从外网也不能直接通过ip访问到具体用户了

(未完待续)

